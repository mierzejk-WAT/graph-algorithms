function CalculateMinimalImplicants(n,t){var r=n,u,i;if(n.length>0&&n[0]instanceof Edge&&(r=n.map(function(n){return n.Value})),r.some(function(n){return-1===n}))throw"Invalid edge boolean alternatives!";return u=Helper.Range(Math.pow(2,t)-1,1).filter(function(n){return r.every(function(t){return(n&t)>0})}),i=[],u.forEach(function(n){i.some(function(t){return(t&n)===t})||i.push(n)}),i}function RestoreGrid(n,t,i,r,u){t.val(n.n.toString());i.val(n.e.length.toString());var f=r.children("table");n.e.forEach(function(n,t){f.children("tr:eq("+(n[0]-1)+")").children("td:eq("+t+")").trigger("click");f.children("tr:eq("+(n[1]-1)+")").children("td:eq("+t+")").trigger("click")});u.triggerHandler("click")}function CreateGrid(n,t,i,r,u,f,e,o,s){var h=$("#"+i),v=$("#"+r),y=$("#"+u),l=$("#"+f),p=$("#"+e),w=$("#"+o),c;h.empty();l.empty();y.empty();p.empty();w.empty();c=[];Helper.Range(t).forEach(function(){c.push(new Edge(n))});var a=$('<table class="table"><\/table>'),b=$("<thead><\/thead>"),k=$("<tr><th><\/th><\/tr>");Helper.Range(t,1).forEach(function(n){return k.append($('<th class="edge"><span>'+n+"<\/span><\/th>"))});b.append(k);a.append(b);Helper.Range(n,1).forEach(function(n){return a.append(CreateRow(n,t))});a.on("click","td",function(n){var t,r,u,i;return n.preventDefault&&n.preventDefault(),n.returnValue=!1,t=$(n.target),t=t.is("td")?t:t.parent(),r=Number(t.attr("vertex")),u=c[Number(t.attr("edge"))-1],t.hasClass("set")?(i=u.DisableVertex(r),i&&(t.removeClass("set"),t.empty())):(i=u.SetVertex(r),i&&(t.addClass("set"),t.append($('<span class="glyphicon glyphicon-remove" aria-hidden="true"><\/span>')))),i&&(c.every(function(n){return n.Validate()})?v.removeAttr("disabled"):v.attr({disabled:""})),i});v.on("click",c,function(t){var r,i;y.empty();h.children().not("table").remove();l.empty();p.empty();w.empty();s.graph.clear();s.refresh();r=CalculateMinimalImplicants(t.data,n);ShowAlternative(h,t.data.map(function(n){return n.vertices}),n);i=r.map(function(t){return Helper.ToVariableIndices(t,n)});ShowMfa(y,l,h,n,i);var u=ShowColours(p,n,i),f=l.children("p").map(function(n,t){return $(t).find(".sub").map(function(n,t){return parseInt($(t).text())})}),e=showAsets(w,f.toArray(),u);return DrawGraph(s.graph,e,t.data.map(function(n){return n.vertices})),s.refresh(),t.preventDefault(),!1});h.append(a)}function showAsets(n,t,i){var r=[],u=[];return i.forEach(function(f,e){var o=GetColour(e,i.length),s=$('<p class="alert-warning alert" style="background-color: '+o+"; border-color: "+o+'"><span class="index"><span>'+(e+1)+"<\/span><\/span><\/p>");t[f-1].filter(function(n,t){return-1===r.indexOf(t)}).toArray().forEach(function(n){s.append('<span><span class="sub">'+n+"<\/span><\/span>");u.push(new Tuple(n,o));r.push(n)});n.append(s)}),u}function GetColour(n,t){var i=new HSLColour(360*n/t,70,53);return i.getCSSHexadecimalRGB()}function DrawGraph(n,t,i){var r=[];Helper.Range(t.length,1).forEach(function(i){var r=t.filter(function(n){return n.V1===i})[0],u=Helper.GetCoordinates(i-1,t.length,2);n.addNode({id:"N"+r.V1,x:u.X,y:u.Y,label:r.V1.toString(),size:1,color:r.V2})});i.forEach(function(t){var u="N"+t[0],f="N"+t[1],i="E="+u+"-"+f;-1===$.inArray(i,r)&&(n.addEdge({id:i,source:u,target:f,color:"#000"}),r.push(i))})}function ShowAlternative(n,t,i){n.append("<h5>Wyrażenie alternatywno-koniunkcyjne<\/h5>");var r=$('<div id="wak"><span class="fnc">f<span class="sub">(G)<\/span>(v<span class="sup">('+i+")<\/span>)=<\/span><\/div>"),u=t.map(function(n){return CreateAlternative(n)});r.append(u.join(""));n.append(r)}function ShowMfa(n,t,i,r,u){var e=Helper.Range(r,1),f;i.append("<h5>Minimalna formuła alternatywna<\/h5>");f=$('<div id="wak"><span class="fnc">f<span class="sub">(G)<\/span>(v<span class="sup">('+r+")<\/span>)=<\/span><\/div>");f.append(u.map(function(n){return n.map(function(n){return'<span><span class="sub">'+n+"<\/span><\/span>"}).join("")}).join(" + "));f.appendTo(i);u.forEach(function(i,r){var u=$('<p class="alert-info alert"><\/p>'),f=$('<p class="alert-danger alert"><span class="index"><span>'+(r+1)+"<\/span><\/span><\/p>");i.forEach(function(n){return u.append($('<span><span class="sub">'+n+"<\/span><\/span>"))});$.grep(e,function(n){return-1<i.indexOf(n)},!0).forEach(function(n){return f.append($('<span><span class="sub">'+n+"<\/span><\/span>"))});n.append(u);t.append(f)})}function ShowColours(n,t,i){var f=$('<table class="table"><\/table>'),o=$("<thead><\/thead>"),s=$("<tr><th><\/th><\/tr>"),r,h,e;Helper.Range(i.length,1).forEach(function(n){return s.append($('<th class="set"><span>'+n+"<\/span><\/th>"))});o.append(s);f.append(o);r=[];Helper.Range(t,1).forEach(function(n){return f.append(CreateBrow(n,i,r))});n.append(f);h=$.grep(r,function(n){return n.length>0}).map(function(n){return CreateAlternative(n)});e=$('<div id="wak"><span class="fnc">f<span class="sub">(G)<\/span>(v<span class="sup">('+i.length+")<\/span>)=<\/span><\/div>");e.append(h.join(""));n.append("<h5>Wyrażenie alternatywno-koniunkcyjne<\/h5>");n.append(e);var l=r.map(function(n){return Helper.Aggregate(n,function(n){return Math.pow(2,i.length-n)})}),a=CalculateMinimalImplicants(l,i.length),u=a.map(function(n){return Helper.ToVariableIndices(n,i.length)}),c=$('<div id="wak"><span class="fnc">f<span class="sub">(G)<\/span>(v<span class="sup">('+i.length+")<\/span>)=<\/span><\/div>");return u.sort(function(n,t){return n.length<t.length?-1:n.length>t.length?1:0}),c.append(u.map(function(n){return n.map(function(n){return'<span><span class="sub">'+n+"<\/span><\/span>"}).join("")}).join(" + ")),n.append("<h5>Minimalna formuła alternatywna<\/h5>"),c.appendTo(n),u.length>0?u[0]:[]}function CreateAlternative(n){var t=n.sort().map(function(n){return'<span><span class="sub">'+n+"<\/span><\/span>"}).join("+");return n.length>1?"("+t+")":t}function CreateBrow(n,t,i){var r=$('<tr><th class="index">'+n+"<\/th><\/tr>");return i[n-1]=[],Helper.Range(t.length).forEach(function(u){var f;-1===t[u].indexOf(n)?(i[n-1].push(u+1),f=$('<td class="set"><span class="glyphicon glyphicon-remove" aria-hidden="true"><\/span><\/td>')):f=$("<td><\/td>");r.append(f)}),r}function CreateRow(n,t){var i=$('<tr><th class="vertex"><span>'+n+"<span><\/th><\/tr>");return Helper.Range(t,1).forEach(function(t){var r=$('<td vertex="'+n+'" edge="'+t+'"><\/td>');i.append(r)}),i}var Helper,Edge,Tuple,Save;(function(n){function i(n){return n.preventDefault(),n.cancelBubble=!0,n.stopPropagation(),!1}function r(n,t){var r,u,i;for(t===void 0&&(t=0),r=[],u=Number(n)+t,i=t;i<u;i++)r.push(i);return r}function t(n,t){var r,i;for(t===void 0&&(t=0),r=[],i=n;i>=t;i--)r.push(i);return r}function u(n,i){var r=[];return t(i-1).forEach(function(t){r.push(n>>>t&1)}),r}function f(n,i){var r=[];return t(i-1).forEach(function(t){n>>>t&1&&r.push(i-t)}),r}function e(n,t,i){return i===void 0&&(i=0),n.forEach(function(n){return i+=t(n)}),i}function s(n,t,i){i===void 0&&(i=1);var r=2*Math.PI*n/t;return new o(i*Math.sin(r),-1*Math.cos(r))}n.Halt=i;n.Range=r;n.RangeInverse=t;n.ToBinary=u;n.ToVariableIndices=f;n.Aggregate=e;var o=function(){function n(n,t){this.x=n;this.y=t}return Object.defineProperty(n.prototype,"X",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Y",{get:function(){return this.y},enumerable:!0,configurable:!0}),n}();n.GetCoordinates=s})(Helper||(Helper={}));Edge=function(){function n(n){this.exponent=n;this.vertices=[]}return n.prototype.SetVertex=function(n){return this.vertices.length<2&&-1===this.vertices.indexOf(n)?(this.vertices.push(n),!0):!1},n.prototype.DisableVertex=function(n){var t=this.vertices.indexOf(n);return t!==-1?(this.vertices=1===this.vertices.length?[]:[this.vertices[1-t]],!0):!1},Object.defineProperty(n.prototype,"Value",{get:function(){return this.Validate()?Math.pow(2,this.exponent-this.vertices[0])+Math.pow(2,this.exponent-this.vertices[1]):-1},enumerable:!0,configurable:!0}),n.prototype.Validate=function(){return 2===this.vertices.length},n}();Tuple=function(){function n(n,t){this.v1=n;this.v2=t}return Object.defineProperty(n.prototype,"V1",{get:function(){return this.v1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"V2",{get:function(){return this.v2},enumerable:!0,configurable:!0}),n}();Save=function(){function n(n,t){this.n=n;this.e=t}return n.prototype.Validate=function(){var t,n;if(typeof this.n!="number"&&this.n<2||!(this.e instanceof Array&&this.e.length>0&&this.e.length<=this.n*(this.n-1)/2))return!1;for(t=0;t<this.e.length;t++)if((n=this.e[t],!(n instanceof Array&&n.length===2&&n[0]!==n[1]))||n[0]>this.n||n[1]>this.n)return!1;return!0},n}();
//# sourceMappingURL=base.min.js.map
